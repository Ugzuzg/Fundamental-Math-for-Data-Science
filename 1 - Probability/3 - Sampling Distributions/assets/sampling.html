<html data-lt-installed="true"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <style>
      html, text {
        background-color: #354551;
        color: white;
        font-family: 'Oxygen', sans-serif;
        fill: white;
      }
      body {
        background-color: #354551;
        color: white;
        font-family: 'Oxygen', sans-serif;
        font-size: 16px;
      }
      .grid {
        display: grid;
        grid-template-columns: 10% 80% 10%;
        grid-template-rows: 20% 60% 20%;
      }

      .title {
        grid-column: 2;
        font-size: 32px;
      }

      .viz {
        grid-column: 2;
      }
      rect {
        fill: steelblue;
      }
      .domain, line {
        stroke: white;
      }
    </style>
    <link href="sampling_files/css.css" rel="stylesheet">
  </head>
<body data-gr-c-s-loaded="true">
  <div class="title">
    <p>Population</p>
  </div>
  <svg id="population" height="190" width="500"><rect x="25" width="10.975609756097562" y="123.34" height="11.66"></rect><rect x="35.97560975609756" width="10.975609756097562" y="119.12" height="15.879999999999999"></rect><rect x="46.951219512195124" width="10.975609756097562" y="116.4" height="18.599999999999998"></rect><rect x="57.926829268292686" width="10.975609756097562" y="112.92" height="22.080000000000002"></rect><rect x="68.90243902439025" width="10.975609756097562" y="105.82" height="29.18"></rect><rect x="79.8780487804878" width="10.975609756097562" y="102.08" height="32.92"></rect><rect x="90.85365853658537" width="10.975609756097562" y="94.34" height="40.660000000000004"></rect><rect x="101.82926829268293" width="10.975609756097562" y="88.4" height="46.6"></rect><rect x="112.8048780487805" width="10.975609756097562" y="80.12" height="54.88"></rect><rect x="123.78048780487806" width="10.975609756097562" y="73.34" height="61.66"></rect><rect x="134.7560975609756" width="10.975609756097562" y="63.82000000000001" height="71.17999999999999"></rect><rect x="145.7317073170732" width="10.975609756097562" y="54.46000000000001" height="80.53999999999999"></rect><rect x="156.70731707317074" width="10.975609756097562" y="45.81999999999999" height="89.18"></rect><rect x="167.6829268292683" width="10.975609756097562" y="37.2" height="97.8"></rect><rect x="178.65853658536585" width="10.975609756097562" y="29.760000000000005" height="105.24"></rect><rect x="189.63414634146343" width="10.975609756097562" y="21.760000000000005" height="113.24"></rect><rect x="200.609756097561" width="10.975609756097562" y="15.060000000000002" height="119.94"></rect><rect x="211.58536585365852" width="10.975609756097562" y="11.659999999999997" height="123.34"></rect><rect x="222.56097560975613" width="10.975609756097562" y="7.140000000000001" height="127.86"></rect><rect x="233.5365853658537" width="10.975609756097562" y="1.5999999999999943" height="133.4"></rect><rect x="244.51219512195124" width="10.975609756097562" y="3.200000000000017" height="131.79999999999998"></rect><rect x="255.4878048780488" width="10.975609756097562" y="4.180000000000007" height="130.82"></rect><rect x="266.4634146341464" width="10.975609756097562" y="8.759999999999991" height="126.24000000000001"></rect><rect x="277.43902439024396" width="10.975609756097562" y="6.400000000000006" height="128.6"></rect><rect x="288.4146341463415" width="10.975609756097562" y="17.440000000000012" height="117.55999999999999"></rect><rect x="299.390243902439" width="10.975609756097562" y="22.279999999999987" height="112.72000000000001"></rect><rect x="310.3658536585366" width="10.975609756097562" y="29.059999999999988" height="105.94000000000001"></rect><rect x="321.34146341463423" width="10.975609756097562" y="34.10000000000001" height="100.89999999999999"></rect><rect x="332.3170731707317" width="10.975609756097562" y="45.739999999999995" height="89.26"></rect><rect x="343.29268292682923" width="10.975609756097562" y="56.18000000000001" height="78.82"></rect><rect x="354.26829268292687" width="10.975609756097562" y="62.97999999999999" height="72.02000000000001"></rect><rect x="365.24390243902445" width="10.975609756097562" y="71.56" height="63.44"></rect><rect x="376.219512195122" width="10.975609756097562" y="81.66" height="53.34"></rect><rect x="387.1951219512195" width="10.975609756097562" y="88.44" height="46.56"></rect><rect x="398.1707317073171" width="10.975609756097562" y="94.72" height="40.28"></rect><rect x="409.1463414634147" width="10.975609756097562" y="101.02" height="33.980000000000004"></rect><rect x="420.12195121951225" width="10.975609756097562" y="106.56" height="28.439999999999998"></rect><rect x="431.0975609756098" width="10.975609756097562" y="110.75999999999999" height="24.240000000000002"></rect><rect x="442.07317073170736" width="10.975609756097562" y="116.34" height="18.66"></rect><rect x="453.04878048780495" width="10.975609756097562" y="118.98" height="16.02"></rect><rect x="464.0243902439025" width="10.975609756097562" y="123.18" height="11.82"></rect><g transform="translate(0,135)" fill="none" font-size="10" font-family="sans-serif" text-anchor="middle"><path class="domain" stroke="#000" d="M25.5,6V0.5H475.5V6"></path><g class="tick" opacity="1" transform="translate(25.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">30</text></g><g class="tick" opacity="1" transform="translate(75.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">40</text></g><g class="tick" opacity="1" transform="translate(125.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">50</text></g><g class="tick" opacity="1" transform="translate(175.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">60</text></g><g class="tick" opacity="1" transform="translate(225.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">70</text></g><g class="tick" opacity="1" transform="translate(275.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">80</text></g><g class="tick" opacity="1" transform="translate(325.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">90</text></g><g class="tick" opacity="1" transform="translate(375.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">100</text></g><g class="tick" opacity="1" transform="translate(425.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">110</text></g><g class="tick" opacity="1" transform="translate(475.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">120</text></g></g><text style="text-anchor: middle;" y="170" x="250.17200065983445">Population Mean: 75</text></svg>
  <div class="title">
    <p>Sample</p>
  </div>
  <svg id="sample" height="190" width="500"><rect x="25" width="10.975609756097562" y="135" height="0"></rect><rect x="35.97560975609756" width="10.975609756097562" y="135" height="0"></rect><rect x="46.951219512195124" width="10.975609756097562" y="126.5" height="8.5"></rect><rect x="57.926829268292686" width="10.975609756097562" y="135" height="0"></rect><rect x="68.90243902439025" width="10.975609756097562" y="135" height="0"></rect><rect x="79.8780487804878" width="10.975609756097562" y="135" height="0"></rect><rect x="90.85365853658537" width="10.975609756097562" y="126.5" height="8.5"></rect><rect x="101.82926829268293" width="10.975609756097562" y="135" height="0"></rect><rect x="112.8048780487805" width="10.975609756097562" y="135" height="0"></rect><rect x="123.78048780487806" width="10.975609756097562" y="118" height="17"></rect><rect x="134.7560975609756" width="10.975609756097562" y="126.5" height="8.5"></rect><rect x="145.7317073170732" width="10.975609756097562" y="118" height="17"></rect><rect x="156.70731707317074" width="10.975609756097562" y="118" height="17"></rect><rect x="167.6829268292683" width="10.975609756097562" y="118" height="17"></rect><rect x="178.65853658536585" width="10.975609756097562" y="109.5" height="25.5"></rect><rect x="189.63414634146343" width="10.975609756097562" y="135" height="0"></rect><rect x="200.609756097561" width="10.975609756097562" y="118" height="17"></rect><rect x="211.58536585365852" width="10.975609756097562" y="118" height="17"></rect><rect x="222.56097560975613" width="10.975609756097562" y="118" height="17"></rect><rect x="233.5365853658537" width="10.975609756097562" y="126.5" height="8.5"></rect><rect x="244.51219512195124" width="10.975609756097562" y="126.5" height="8.5"></rect><rect x="255.4878048780488" width="10.975609756097562" y="101" height="34"></rect><rect x="266.4634146341464" width="10.975609756097562" y="126.5" height="8.5"></rect><rect x="277.43902439024396" width="10.975609756097562" y="135" height="0"></rect><rect x="288.4146341463415" width="10.975609756097562" y="118" height="17"></rect><rect x="299.390243902439" width="10.975609756097562" y="135" height="0"></rect><rect x="310.3658536585366" width="10.975609756097562" y="101" height="34"></rect><rect x="321.34146341463423" width="10.975609756097562" y="109.5" height="25.5"></rect><rect x="332.3170731707317" width="10.975609756097562" y="126.5" height="8.5"></rect><rect x="343.29268292682923" width="10.975609756097562" y="118" height="17"></rect><rect x="354.26829268292687" width="10.975609756097562" y="126.5" height="8.5"></rect><rect x="365.24390243902445" width="10.975609756097562" y="126.5" height="8.5"></rect><rect x="376.219512195122" width="10.975609756097562" y="126.5" height="8.5"></rect><rect x="387.1951219512195" width="10.975609756097562" y="118" height="17"></rect><rect x="398.1707317073171" width="10.975609756097562" y="135" height="0"></rect><rect x="409.1463414634147" width="10.975609756097562" y="118" height="17"></rect><rect x="420.12195121951225" width="10.975609756097562" y="126.5" height="8.5"></rect><rect x="431.0975609756098" width="10.975609756097562" y="126.5" height="8.5"></rect><rect x="442.07317073170736" width="10.975609756097562" y="126.5" height="8.5"></rect><rect x="453.04878048780495" width="10.975609756097562" y="135" height="0"></rect><rect x="464.0243902439025" width="10.975609756097562" y="135" height="0"></rect><g transform="translate(0,135)" fill="none" font-size="10" font-family="sans-serif" text-anchor="middle"><path class="domain" stroke="#000" d="M25.5,6V0.5H475.5V6"></path><g class="tick" opacity="1" transform="translate(25.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">30</text></g><g class="tick" opacity="1" transform="translate(75.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">40</text></g><g class="tick" opacity="1" transform="translate(125.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">50</text></g><g class="tick" opacity="1" transform="translate(175.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">60</text></g><g class="tick" opacity="1" transform="translate(225.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">70</text></g><g class="tick" opacity="1" transform="translate(275.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">80</text></g><g class="tick" opacity="1" transform="translate(325.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">90</text></g><g class="tick" opacity="1" transform="translate(375.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">100</text></g><g class="tick" opacity="1" transform="translate(425.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">110</text></g><g class="tick" opacity="1" transform="translate(475.5,0)"><line stroke="#000" y2="6"></line><text fill="#000" y="9" dy="0.71em">120</text></g></g><text style="text-anchor: middle;" y="170" x="272.56477837500034">Sample Mean: 80</text></svg>
  <br>
  <span>Sample Size:
    <input type="number" value="50" step="25" min="25" max="200" id="nSamples" onclick="update()" data-com.bitwarden.browser.user-edited="yes">
  </span>
  <button id="generate" onclick="update()">Generate </button>

  <script src="sampling_files/simple-statistics.js"></script>
  <script src="sampling_files/jstat.js"></script>
  <script src="sampling_files/d3.js"></script>

  <script>
    var xMin = 30; // Min x-value plotted
    var xMax = 120; // Max x-value plotted
    var nBins = 41; // Number of bins
    var svgWidth = 500; // Width of SVG
    var svgHeight = 170; // Height of SVG
    var mean = 75; // Initial mean
    var std = 20; // Initial std
    var xScale = d3.scaleLinear()
    .range([svgWidth * 0.05, svgWidth * 0.95])
    .domain([xMin, xMax]);
    var yScaleSample = d3.scaleLinear()
    .range([0, svgHeight])
    .domain([0, 20]);
    var yScalePopulation = d3.scaleLinear()
    .range([0, svgHeight])
    .domain([0, 8500]);
    var population = genSamples(mean, std, 150000);

    function setUp() {
    var binXs = genBinXs(xMin, xMax, nBins);
    // Set up histograms
    d3.selectAll('svg')
    .selectAll('rect')
    .data(binXs)
    .enter()
    .append('rect')
    .attr('x', function(d, i) {return d})
    .attr('width', binXs[1] - binXs[0]);

    // Axes
    var xAxis = d3.axisBottom()
    .scale(xScale)
    .ticks(10);  //Set rough # of ticks
    d3.selectAll('svg')
    .append("g")
    .attr("transform", "translate(0,"+(svgHeight-35)+")")
    .call(xAxis);

    // Set up population
    var binHeights = genBinHeights(xMin, xMax, nBins, population, yScalePopulation);
    d3.select('#population')
    .selectAll('rect')
    .transition()
    .attr('y', function(d, i) {return (svgHeight-35) - binHeights[i]})
    .attr('height', function(d, i) {return binHeights[i]});

    // Mean labels
    d3.selectAll('svg')
    .append('text')
    .style('text-anchor', 'middle')
    .attr('y', svgHeight);

    d3.select('#population > text')
    .html('Population Mean: ' + ss.mean(population).toFixed(0))
    .attr('x', xScale(ss.mean(population)))

    // Set up samples
    update();
    }

    function update() {
    var nSamples = parseFloat(d3.select('#nSamples')._groups[0][0].value);
    var binXs = genBinXs(xMin, xMax, nBins);
    var samples = ss.sample(population, nSamples);
    var binHeights = genBinHeights(xMin, xMax, nBins, samples, yScaleSample);
    // Plot Histogram
    d3.select('#sample')
    .selectAll('rect')
    .transition()
    .attr('y', function(d, i) {return (svgHeight-35) - binHeights[i]})
    .attr('height', function(d, i) {return binHeights[i]});
    // Update mean
    d3.select('#sample > text')
    .html('Sample Mean: ' + ss.mean(samples).toFixed(0))
    .transition()
    .attr('x', xScale(ss.mean(samples)));
    }

    function genSamples(mean, std, nSamples) {
    var samples = [];
    for (i=0; i < nSamples; ++i) {
    samples[i] = jStat.normal.sample( mean , std ) ;
    }
    return samples
    }

    function genBinXs(xMin, xMax, nBins) {
    var binWidth = (xMax - xMin) / nBins;
    var xVals = [];
    for (var i=0; i<nBins; i++) {
    xVals[i] = xScale(xMin + (i * binWidth));
    }
    return xVals;
    }

    function genBinHeights(xMin, xMax, nBins, samples, yScale) {
    var binWidth = (xMax - xMin) / nBins;
    var heights = [];
    for (var i=0; i<nBins; i++) {
    var b = 0;
    samples.forEach(function(x) {
    var binLeft = xMin + (i * binWidth);
    var binRight = xMin + ((i + 1) * binWidth);
    if ((x >= binLeft) & (x < binRight)) {
    b++;
    }
    });
    heights[i] = yScale(b)
    }
    return heights
    }

    setUp();
  </script>



<script type="text/javascript" src="sampling_files/relay.js"></script><script type="text/javascript" src="sampling_files/jquery_002.js"></script><div id="sconnect-is-installed" style="display: none;">2.14.0.0</div><script type="text/javascript" src="sampling_files/jquery.js"></script></body></html>